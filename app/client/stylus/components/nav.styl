nav
  background-color: $true-black
  background-image: linear-gradient($black,$true-black)
  border-bottom: $border-nav-bottom solid $dark-gray
  box-shadow: 0 1px 0 0 $black, 0 1px 0 1px $dark-gray
  color: $white
  height: auto
  margin-bottom: $line-base - $border-nav-bottom
  min-height: 2 * $line-base
  width: 100%

  a
    display: block
    font-size: $font-base
    padding: ($line-base / 2) $gutter-width

  li
    display: block
    float: left
    position: relative

    &:after
      background: $true-black
      //radial-gradients("55% 45%, farthest-corner, " + $dark-blue + " 0%, " + rgba($dark-blue, 0) + " 100%")
      border-bottom: 1px solid $dark-gray
      border-left: 1px solid $dark-gray
      bottom: -1 * ($border-nav-bottom + 1)
      content: ''
      display: none
      height: $border-nav-bottom * 2
      left: 50%
      margin-left: -1 * (@height / 2)
      position: absolute
      transform: rotate(-45deg)
      width: @height

    &:before
      background: $true-black
      radial-gradients("50% 0, farthest-corner, " + $white + " 0%, " + $bright-blue + " 10%, " + rgba($dark-blue, 0.1) + " 90%, " + rgba($true-black,0) + " 100%")
      border-top: 1px solid $true-black
      content: ''
      display: block
      height: 9px
      left: 50%
      margin-left: -2 * $gutter-width
      opacity: 0
      position: absolute
      top: 0
      transition: opacity 0.25s ease
      width: $gutter-width * 4


    &:hover
      &:before
        opacity: 1

    &.current
      a
        color: $bright-blue

    &.right
      float: right

  ul
    clearfix()
    margin: auto
    max-width: $container-large-width - ($gutter-width * 2)
    padding: 0
    width: 100%

@media $medium-width
  nav li.current
    &:after,&:before
      display: block
    &:before
      opacity: 1

@media $large-width
  nav li.current
    &:after,&:before
      display: block
    &:before
      opacity: 1
